{"version":3,"file":"open.js","sourceRoot":"","sources":["../../../../src/cli/commands/theme/open.ts"],"names":[],"mappings":";AAAA,OAAO,EAAC,gBAAgB,EAAC,MAAM,gCAAgC,CAAA;AAC/D,OAAO,YAAY,MAAM,kCAAkC,CAAA;AAC3D,OAAO,EAAC,UAAU,EAAC,MAAM,gBAAgB,CAAA;AACzC,OAAO,EAAC,IAAI,EAAC,MAAM,wBAAwB,CAAA;AAC3C,OAAO,EAAC,KAAK,EAAC,MAAM,aAAa,CAAA;AACjC,OAAO,EAAC,WAAW,EAAC,MAAM,2BAA2B,CAAA;AACrD,OAAO,EAAC,yBAAyB,EAAC,MAAM,+BAA+B,CAAA;AAEvE,MAAqB,IAAK,SAAQ,YAAY;IAuC5C,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,EAAI,CAAC,CAAA;QACtC,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAA;QACrC,MAAM,YAAY,GAAG,MAAM,yBAAyB,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAA;QAE3E,MAAM,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAA;IACjC,CAAC;;;AA5CM,YAAO,GAAG,yCAAyC,AAA5C,CAA4C;AAEnD,4BAAuB,GAAG;;;;;4HAKyF,AAL5F,CAK4F;AAEnH,gBAAW,GAAG,EAAI,CAAC,0BAA0B,EAAE,AAApC,CAAoC;AAE/C,UAAK,GAAG;IACb,GAAG,WAAW;IACd,QAAQ,EAAE,UAAU,CAAC,QAAQ;IAC7B,WAAW,EAAE,KAAK,CAAC,OAAO,CAAC;QACzB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,8BAA8B;QAC3C,GAAG,EAAE,0BAA0B;KAChC,CAAC;IACF,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC;QACpB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,+DAA+D;QAC5E,GAAG,EAAE,qBAAqB;KAC3B,CAAC;IACF,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC;QAClB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,mCAAmC;QAChD,GAAG,EAAE,mBAAmB;KACzB,CAAC;IACF,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC;QAClB,IAAI,EAAE,GAAG;QACT,WAAW,EAAE,uCAAuC;QACpD,GAAG,EAAE,uBAAuB;KAC7B,CAAC;IACF,KAAK,EAAE,UAAU,CAAC,KAAK;IACvB,WAAW,EAAE,UAAU,CAAC,WAAW;CACpC,AAzBW,CAyBX;eArCkB,IAAI","sourcesContent":["import {ensureThemeStore} from '../../utilities/theme-store.js'\nimport ThemeCommand from '../../utilities/theme-command.js'\nimport {themeFlags} from '../../flags.js'\nimport {open} from '../../services/open.js'\nimport {Flags} from '@oclif/core'\nimport {globalFlags} from '@shopify/cli-kit/node/cli'\nimport {ensureAuthenticatedThemes} from '@shopify/cli-kit/node/session'\n\nexport default class Open extends ThemeCommand {\n  static summary = 'Opens the preview of your remote theme.'\n\n  static descriptionWithMarkdown = `Returns links that let you preview the specified theme. The following links are returned:\n\n  - A link to the [editor](https://shopify.dev/docs/themes/tools/online-editor) for the theme in the Shopify admin.\n  - A [preview link](https://help.shopify.com/manual/online-store/themes/adding-themes?shpxid=cee12a89-AA22-4AD3-38C8-91C8FC0E1FB0#share-a-theme-preview-with-others) that you can share with other developers.\n\n  If you don't specify a theme, then you're prompted to select the theme to open from the list of the themes in your store.`\n\n  static description = this.descriptionWithoutMarkdown()\n\n  static flags = {\n    ...globalFlags,\n    password: themeFlags.password,\n    development: Flags.boolean({\n      char: 'd',\n      description: 'Open your development theme.',\n      env: 'SHOPIFY_FLAG_DEVELOPMENT',\n    }),\n    editor: Flags.boolean({\n      char: 'E',\n      description: 'Open the theme editor for the specified theme in the browser.',\n      env: 'SHOPIFY_FLAG_EDITOR',\n    }),\n    live: Flags.boolean({\n      char: 'l',\n      description: 'Open your live (published) theme.',\n      env: 'SHOPIFY_FLAG_LIVE',\n    }),\n    theme: Flags.string({\n      char: 't',\n      description: 'Theme ID or name of the remote theme.',\n      env: 'SHOPIFY_FLAG_THEME_ID',\n    }),\n    store: themeFlags.store,\n    environment: themeFlags.environment,\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Open)\n    const store = ensureThemeStore(flags)\n    const adminSession = await ensureAuthenticatedThemes(store, flags.password)\n\n    await open(adminSession, flags)\n  }\n}\n"]}